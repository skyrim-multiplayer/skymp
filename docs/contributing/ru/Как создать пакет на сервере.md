Клиент отправляет на сервер массу пакетов, чтобы игра могла функционировать. В этой инструкции мы рассмотрим, как создать новый тип пакета и научить сервер обрабатывать его.

0. Надо придумать, как пакет будет называться и какие данные в нём будут лежать. В [MsgType.h](https://github.com/skyrim-multiplayer/skymp/blob/main/skymp5-server/cpp/mp_common/MsgType.h) можно подсмотреть, как обычно выглядят наши названия. Сообщения наши в основном в JSON формате. Можно почитать на Википедии синтаксис JSON https://ru.wikipedia.org/wiki/JSON, чтобы напомнить себе, какие типы данных там в принципе могут быть.
1. В `MsgType.h` добавляем новый типа пакета в enum (пусть будет Foo)
2. В `PacketParser.cpp`, `TransformPacketIntoAction`, добавляем case для нашего нового типа пакета: `case MsgType::Foo:`. Здесь по аналогии с соседними case получаем данные из JSON-сообщения в переменные типа `uint32_t`, `const char *` и др.
3. В [ActionListener.h](https://github.com/skyrim-multiplayer/skymp/blob/main/skymp5-server/cpp/server_guest_lib/ActionListener.h) и [ActionListener.cpp](https://github.com/skyrim-multiplayer/skymp/blob/main/skymp5-server/cpp/server_guest_lib/ActionListener.cpp) добавить метод, который будет вызван с полученными данными из JSON-сообщения. В `ActionListener.cpp`мы его будем реализовывать уже на следующем шаге, а пока оставим пустым. Теперь в `PacketParser.cpp`, в недавно созданный кейс, добавим вызов нашего нового метода. Вуаля, сервер при получении пакета будет вызывать метод.
4. Самое интересное: мы хотим реализовать метод в `ActionListener.cpp`. Здесь нужно любой ценой написать код, который будет решать задачу. Использовать можно различные классы, которые доступны в сервере. Но советую придерживаться ряда общих рекомендаций, написанных ниже.

Общие рекомендации

1. Не доверять данным из пакета. Обязательно проверять, может ли на самом деле игрок совершить такое действие. Будем считать, что у нас будут злые игроки-программисты с доступом к коду клиента, тем более что так и есть.
2. Рекомендации будут дополняться
